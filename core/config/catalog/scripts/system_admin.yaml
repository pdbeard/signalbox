# System Administration Example Scripts
#
# ⚠️  IMPORTANT: These are EXAMPLE scripts for learning and getting started.
# These scripts are NOT meant for production use - they are educational tools!
#
# This file demonstrates system monitoring and maintenance scripts.
# These scripts show real system administration tasks:
# - Monitoring disk space, memory, and system load with thresholds
# - Checking critical services and network connectivity  
# - Security updates and system maintenance
# - Configuration backup and cleanup operations
#
# NOTE: These scripts include actual system commands (df, free, ps, etc.)
# They will work on most Unix-like systems but may need adjustment for
# your specific environment. The scripts include fallbacks for macOS compatibility.

scripts:
  - name: check_disk_space
    description: Monitor disk usage and warn if > 80%
    command: |
      echo 'Checking disk space...'
      df -h / | awk 'NR==2 { usage = $5; gsub(/%/, "", usage); if(usage > 80) print "Disk usage HIGH: " usage "% (/" $4 " free)"; else if(usage > 60) print "Disk usage MEDIUM: " usage "% (/" $4 " free)"; else print "Disk usage OK: " usage "% (/" $4 " free)" }'
    log_limit:
      type: count
      value: 10
  - name: check_memory_usage
    description: Check system memory usage
    command: |
      echo 'Checking memory usage...'
      free -m 2>/dev/null | awk 'NR==2{ printf "Memory: %s/%sMB (%.1f%% used)\n", $3,$2,$3*100/$2; if($3*100/$2 > 80) print "Memory usage is high"; else print "Memory usage normal" }' || (
        # Fallback for macOS
        echo 'Memory check (macOS):'
        vm_stat | grep -E '(Pages free|Pages active|Pages inactive|Pages speculative|Pages wired down)' | awk '{print $3 " " $4}' | head -2
      )
    log_limit:
      type: count
      value: 10
  - name: check_system_load
    description: Check system load average
    command: "uptime | awk -F'load averages?: ' '{print $2}' || uptime | awk -F'load average: ' '{print $2}'"